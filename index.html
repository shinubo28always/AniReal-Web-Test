<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AniReal - Anime Zone</title>

<style>
:root {
  --bg-color: #121212;
  --text-color: #ffffff;
  --nav-color: #1e1e1e;
}

/* Body */
body {
  font-family: Arial, sans-serif;
  background-color: var(--bg-color);
  color: var(--text-color);
  transition: background-color 0.3s, color 0.3s;
  margin: 0;
}

/* Navbar */
.navbar {
  background-color: var(--nav-color);
  padding: 12px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 10px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  position: relative;
}
.navbar-left, .navbar-right { display: flex; align-items: center; gap: 15px; }
.menu-icon { font-size: 22px; cursor: pointer; user-select: none; color: var(--text-color); }
.dropdown {
  position: absolute; top: 50px; left: 20px;
  background-color: var(--nav-color);
  border: 1px solid #ccc;
  padding: 10px; display: none; z-index: 10; border-radius: 5px;
}
.title { font-size: 20px; font-weight: bold; transition: all 0.3s ease; white-space: nowrap; }
.search-box {
  padding: 5px 10px; font-size: 14px;
  border: 1px solid #555; border-radius: 20px; outline: none;
  background-color: #2b2b2b; color: #fff; width: 180px;
  display: none; transition: all 0.3s ease;
}
body.hide-title .search-box { display: inline-block; }
.notification-icon, .search-toggle-icon { font-size: 18px; cursor: pointer; user-select: none; }

/* Slider */
.slide { display: none; position: relative; min-width: 250px; flex-shrink: 0; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.3); }
.slide.active { display: block; }
.slide img { width: 100%; height: 100%; object-fit: contain; display: block; }
.slide-text { position: absolute; bottom: 0; left: 0; width: 100%; padding: 10px; background: linear-gradient(to top, rgba(0,0,0,0.7), transparent); color: white; font-size: 16px; }
.slide-text strong { font-weight: bold; display: block; font-size: 18px; margin-bottom: 4px; }
.genre { font-size: 14px; opacity: 0.9; }

/* Anime Section */
.anime-section { margin: 30px 15px; }
.anime-section h2 {
  font-size: 22px; margin-bottom: 15px; color: var(--text-color);
  border-left: 5px solid #ff4757; padding-left: 10px; user-select: none;
}

/* === Anime Card (Poster) === */
.anime-card {
  position: relative;
  display: block;
  width: 100%;
  max-width: 220px;
  aspect-ratio: 960 / 1357;
  border-radius: 12px;
  overflow: hidden;
  background: var(--nav-color);
  box-shadow: 0 4px 10px rgba(0,0,0,0.4);
  transition: transform 0.22s ease, box-shadow 0.22s ease;
  text-decoration: none;
  color: var(--text-color);
}
.anime-card:hover {
  transform: scale(1.03);
  box-shadow: 0 8px 20px rgba(0,0,0,0.6);
}
.anime-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
}
/* Bottom shadow overlay */
.anime-card::after {
  content: "";
  position: absolute; left: 0; bottom: 0; width: 100%; height: 45%;
  background: linear-gradient(to top, rgba(0,0,0,0.9), rgba(0,0,0,0));
  pointer-events: none; z-index: 1;
}
/* Text on bottom */
.anime-info {
  position: absolute; left: 12px; right: 12px; bottom: 12px; z-index: 2;
  display: flex; flex-direction: column; gap: 4px;
}
.anime-info h3 {
  margin: 0; font-size: 15px; font-weight: 700; color: #FFD700;
  text-shadow: 0 1px 4px rgba(0,0,0,0.6); line-height: 1.1;
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}
.anime-info p {
  margin: 0; font-size: 13px; color: #e6e6e6; opacity: 0.95;
}

/* Grid for search results */
#search-results .anime-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px; justify-items: center; align-items: start;
}
@media (min-width: 768px) {
  #search-results .anime-grid {
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 18px;
  }
}

/* Horizontal scroll for top hits/new releases */
.anime-section .anime-grid {
  display: flex; gap: 15px; overflow-x: auto; padding-bottom: 10px;
}
.anime-section .anime-grid .anime-card {
  flex: 0 0 140px; max-width: 220px; aspect-ratio: 960 / 1357;
}

/* Scrollbar style */
.anime-grid::-webkit-scrollbar { height: 8px; }
.anime-grid::-webkit-scrollbar-thumb { background-color: #ff4757; border-radius: 4px; }
.anime-grid::-webkit-scrollbar-track { background: transparent; }

main { padding: 20px; text-align: center; }
footer { padding: 20px; text-align: center; font-size: 14px; color: gray; user-select: none; }

/* Search section */
#search-results { margin: 30px 15px; }
#searchTitle { text-align:center; font-size:26px; font-weight:700; background: linear-gradient(90deg, #ff6a00, #ee0979); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 25px; letter-spacing:1px; animation: fadeIn 0.6s ease-in-out;}
#search-results .anime-card img { height: auto; object-fit: cover; }
#notFoundMsg { text-align:center; font-size:18px; font-weight:500; color:#888; margin-top:40px; animation:fadeIn 0.6s ease-in-out;}
@keyframes fadeIn { from {opacity:0; transform:translateY(-8px);} to {opacity:1; transform:translateY(0);} }
</style>
</head>
<body class="dark">

<!-- Navbar -->
<div class="navbar" id="navbar">
  <div class="navbar-left">
    <span class="menu-icon" onclick="toggleDropdown()">‚ò∞</span>
    <div class="dropdown" id="dropdown"></div>
  </div>
  <div class="title" id="mainTitle">AniReal - Anime Zone</div>
  <input type="text" id="searchExpanded" class="search-box" placeholder="Search Anime..." autocomplete="off" />
  <div class="navbar-right">
    <span class="search-toggle-icon" onclick="toggleSearch()">üîç</span>
    <a href="Notifications/notification.html" class="notification-icon" style="position:relative;">
      üîî
      <span id="notifBadge" style="position:absolute; top:-5px; right:-5px; background:red; color:#fff; font-size:12px; padding:2px 6px; border-radius:50%; display:none;"></span>
    </a>
  </div>
</div>

<!-- Slider -->
<div class="slider" id="slider">
  <a href="#" target="_blank" class="slide active">
    <img src="https://photo.chelpbot.me/AgACAgUAAyEFAASaAAEylQADEWiU1tgqIp1IJb6Nuu6PYVEwX6pfAAKXwzEbiLbhV1Qd9ShGfhLgAQADAgADeQADNgQ/photo.jpg" alt="One Piece" />
    <div class="slide-text"><strong>One Piece</strong><div class="genre">Action, Adventure, Comedy, Drama, Fantasy</div></div>
  </a>
</div>

<main>
<p>Welcome! This is the beginning of your Anime website. Here You Can Watch All Hindi Dub Animes</p>
</main>

<!-- Top Hits -->
<section id="top-hits" class="anime-section">
  <h2>üî• Top Hits Anime</h2>
  <div class="anime-grid">
    <a href="#" class="anime-card" data-title="dan da dan">
      <img src="https://photo.chelpbot.me/AgACAgUAAxkBXBTyk2jzhTzE8ghcucHBSJShTpoqTwv6AAJ2C2sb3VehV0iyni70-V4mAQADAgADeQADNgQ/photo.jpg" alt="Dan Da Dan" />
      <div class="anime-info"><h3>Dan Da Dan Season 2</h3><p>Episodes: 12</p></div>
    </a>
  </div>
</section>

<!-- New Releases -->
<section id="new-releases" class="anime-section">
<h2>‚ú® New Releases</h2>
<div class="anime-grid">
  <a href="#" class="anime-card" data-title="solo leveling">
      <img src="https://envs.sh/NEW1.jpg" alt="Solo Leveling" />
      <div class="anime-info"><h3>Solo Leveling</h3><p>Episodes: 10</p></div>
    </a>
    <a href="#" class="anime-card" data-title="kaiju no.8">
      <img src="https://envs.sh/NEW2.jpg" alt="Kaiju No. 8" />
      <div class="anime-info"><h3>Kaiju No. 8</h3><p>Episodes: 8</p></div>
    </a>
    <a href="#" class="anime-card" data-title="wind breaker">
      <img src="https://envs.sh/NEW3.jpg" alt="Wind Breaker" />
      <div class="anime-info"><h3>Wind Breaker</h3><p>Episodes: 5</p></div>
    </a>
  </div>
</section>

<footer>
  <p>&copy; 2025 AniReal. All rights reserved.</p>
</footer>

<!-- Scripts -->
<script src="Notifications/notification.js"></script>
<script>
  // === Select Elements ===
  const slides = document.querySelectorAll(".slide");
  const sliderContainer = document.getElementById("slider");
  const searchInput = document.getElementById("searchExpanded");
  const mainTitle = document.getElementById("mainTitle");
  const searchIcon = document.querySelector(".search-toggle-icon");
  const welcomeMsg = document.querySelector("main");
  const topHits = document.getElementById("top-hits");
  const newReleases = document.getElementById("new-releases");
  const allCards = document.querySelectorAll(".anime-card");

  // === Create Search Result Section ===
  const searchResults = document.createElement("section");
  searchResults.id = "search-results";
  searchResults.className = "anime-section";
  searchResults.style.display = "none";
  searchResults.innerHTML =
    '<h2 id="searchTitle">üîç Search Results</h2>' +
    '<div class="anime-grid" id="search-grid"></div>';
  document.body.insertBefore(searchResults, document.querySelector("footer"));

  const searchGrid = document.getElementById("search-grid");

  // === Create Not Found Message ===
  const notFoundMsg = document.createElement("p");
  notFoundMsg.id = "notFoundMsg";
  notFoundMsg.textContent = "üò¢ No anime matched your search. Try something else!";
  notFoundMsg.style.display = "none";
  searchResults.appendChild(notFoundMsg);

  // === Slider Functions ===
  let currentSlide = 0;
  function showSlide(index) {
    slides.forEach((slide, i) => {
      slide.classList.toggle("active", i === index);
    });
  }
  function nextSlide() {
    if (searchInput.style.display === "inline-block") return;
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
  }
  showSlide(currentSlide);
  setInterval(nextSlide, 3000);

  // === Dropdown Toggle ===
  function toggleDropdown() {
    const menu = document.getElementById("dropdown");
    menu.style.display = menu.style.display === "block" ? "none" : "block";
  }

  // === Click Outside Logic ===
  document.addEventListener("click", function (event) {
    const dropdown = document.getElementById("dropdown");
    const menuIcon = document.querySelector(".menu-icon");

    // Hide dropdown if clicked outside
    if (!dropdown.contains(event.target) && !menuIcon.contains(event.target)) {
      dropdown.style.display = "none";
    }

    // Hide search if clicked outside
    if (!searchInput.contains(event.target) &&
        !searchIcon.contains(event.target) &&
        !searchResults.contains(event.target)) {
      searchInput.style.display = "none";
      mainTitle.style.display = "block";
      resetPageView();
    }
  });

  // === Toggle Search Bar ===
  function toggleSearch() {
    if (searchInput.style.display === "inline-block") {
      searchInput.style.display = "none";
      mainTitle.style.display = "block";
      resetPageView();
    } else {
      searchInput.style.display = "inline-block";
      searchInput.focus();
      mainTitle.style.display = "none";
    }
  }

  // === Reset Layout ===
  function resetPageView() {
    sliderContainer.style.display = "block";
    welcomeMsg.style.display = "block";
    topHits.style.display = "block";
    newReleases.style.display = "block";
    searchResults.style.display = "none";
    searchGrid.innerHTML = "";
    notFoundMsg.style.display = "none";
  }
